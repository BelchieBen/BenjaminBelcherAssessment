<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WMS Documentation: ProjectDataService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WMS Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_project_data_service.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_project_data_service-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ProjectDataService Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="projectdataservice_8h_source.html">projectdataservice.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0c5282d77381f91fc3af37b7f15b33b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#a0c5282d77381f91fc3af37b7f15b33b3">createProject</a> (QString title, QString desc, QString status, QString manager)</td></tr>
<tr class="separator:a0c5282d77381f91fc3af37b7f15b33b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa98c165d9b40e748359f4802d01ce927"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#aa98c165d9b40e748359f4802d01ce927">insertProjUsers</a> (QVector&lt; QString &gt; users, int project)</td></tr>
<tr class="separator:aa98c165d9b40e748359f4802d01ce927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e9573d44ff21fd88f43a8cf66ae513"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#a66e9573d44ff21fd88f43a8cf66ae513">getProject</a> (QString title)</td></tr>
<tr class="separator:a66e9573d44ff21fd88f43a8cf66ae513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8568456df5ad9a547e3cf2baec7907b3"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#a8568456df5ad9a547e3cf2baec7907b3">getProjectTitle</a> (int id)</td></tr>
<tr class="separator:a8568456df5ad9a547e3cf2baec7907b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cbe17371fc9184605817371ff2804c4"><td class="memItemLeft" align="right" valign="top">QList&lt; QString &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#a3cbe17371fc9184605817371ff2804c4">getProjectUsers</a> (int projectId)</td></tr>
<tr class="separator:a3cbe17371fc9184605817371ff2804c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1fede681952ab0a7d86303f4b078877"><td class="memItemLeft" align="right" valign="top">QList&lt; QString &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#ad1fede681952ab0a7d86303f4b078877">getAvailableUsers</a> (int projectId)</td></tr>
<tr class="separator:ad1fede681952ab0a7d86303f4b078877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ffc72cb7c89fedfa6b45cbbd077ea0"><td class="memItemLeft" align="right" valign="top">QList&lt; QString &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#aa2ffc72cb7c89fedfa6b45cbbd077ea0">getCurrentUsers</a> (int projectId)</td></tr>
<tr class="separator:aa2ffc72cb7c89fedfa6b45cbbd077ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a7317c7109ec0402a0723dc72824695"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#a1a7317c7109ec0402a0723dc72824695">updateProjectTitle</a> (int projectId, QString title)</td></tr>
<tr class="separator:a1a7317c7109ec0402a0723dc72824695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b43d846e57aa15776b3fcb5fdb9357"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#a52b43d846e57aa15776b3fcb5fdb9357">updateProjectUsers</a> (int projId, QVector&lt; QString &gt; currentUsers)</td></tr>
<tr class="separator:a52b43d846e57aa15776b3fcb5fdb9357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ea1fa28137f99836d76c8828f303fc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#a98ea1fa28137f99836d76c8828f303fc">deleteprojectUsers</a> (int projId)</td></tr>
<tr class="separator:a98ea1fa28137f99836d76c8828f303fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d4d2a46b07b206185a221393207f34"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#ad0d4d2a46b07b206185a221393207f34">sendProjectMessage</a> (int projId, QString messageTitle, QString messageBody, int uId)</td></tr>
<tr class="separator:ad0d4d2a46b07b206185a221393207f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af212794847b0d4c2d3538db5b2b5c7eb"><td class="memItemLeft" align="right" valign="top">QList&lt; <a class="el" href="class_project_message.html">ProjectMessage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#af212794847b0d4c2d3538db5b2b5c7eb">fetchProjectMessages</a> (int projId)</td></tr>
<tr class="separator:af212794847b0d4c2d3538db5b2b5c7eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c2655323dac144243637a46284a3ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_project_data_service.html#a15c2655323dac144243637a46284a3ed">calculateProjectProgress</a> (QString projectTitle)</td></tr>
<tr class="separator:a15c2655323dac144243637a46284a3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This class contains all the methods to handle the data opertions required to maintain projects in the application. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a15c2655323dac144243637a46284a3ed" name="a15c2655323dac144243637a46284a3ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15c2655323dac144243637a46284a3ed">&#9670;&nbsp;</a></span>calculateProjectProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ProjectDataService::calculateProjectProgress </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>projectTitle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method calculates the percentage completion of a project, the only argument is the project title and that is used to query the database to find all the tasks associated with the project. <br  />
Then to calculate the completion percentage the total number of tasks completed is divided by the total number of tasks in the project, then this value is multiplied by 100. <br  />
 This method will always return a value, if there are no tasks completed then 0 will be returned.</p>

</div>
</div>
<a id="a0c5282d77381f91fc3af37b7f15b33b3" name="a0c5282d77381f91fc3af37b7f15b33b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c5282d77381f91fc3af37b7f15b33b3">&#9670;&nbsp;</a></span>createProject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ProjectDataService::createProject </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>manager</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method inserts a project into the database and takes several arguments. If the project was inserted successfully then the method will return true.</p>

</div>
</div>
<a id="a98ea1fa28137f99836d76c8828f303fc" name="a98ea1fa28137f99836d76c8828f303fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ea1fa28137f99836d76c8828f303fc">&#9670;&nbsp;</a></span>deleteprojectUsers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ProjectDataService::deleteprojectUsers </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>projId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method deletes all the users assigned to a project. If all the users where deleted then the method would return true.</p>

</div>
</div>
<a id="af212794847b0d4c2d3538db5b2b5c7eb" name="af212794847b0d4c2d3538db5b2b5c7eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af212794847b0d4c2d3538db5b2b5c7eb">&#9670;&nbsp;</a></span>fetchProjectMessages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; <a class="el" href="class_project_message.html">ProjectMessage</a> &gt; ProjectDataService::fetchProjectMessages </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>projId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method returns a QList of type <a class="el" href="class_project_message.html">ProjectMessage</a> and these are all the messages associated with a project. The project is determined by the project ID argument. If there are no messages associated with a project then an empty list will be returned.</p>

</div>
</div>
<a id="ad1fede681952ab0a7d86303f4b078877" name="ad1fede681952ab0a7d86303f4b078877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1fede681952ab0a7d86303f4b078877">&#9670;&nbsp;</a></span>getAvailableUsers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; QString &gt; ProjectDataService::getAvailableUsers </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>projectId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method returns a QList of users email's that are not alredy in a project, specified by the argument. If there are users that are not already assigned to a given project then this method will return those.</p>

</div>
</div>
<a id="aa2ffc72cb7c89fedfa6b45cbbd077ea0" name="aa2ffc72cb7c89fedfa6b45cbbd077ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2ffc72cb7c89fedfa6b45cbbd077ea0">&#9670;&nbsp;</a></span>getCurrentUsers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; QString &gt; ProjectDataService::getCurrentUsers </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>projectId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method returns a QList of users emails determined by the ID of a project passed in as an argument.</p>

</div>
</div>
<a id="a66e9573d44ff21fd88f43a8cf66ae513" name="a66e9573d44ff21fd88f43a8cf66ae513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e9573d44ff21fd88f43a8cf66ae513">&#9670;&nbsp;</a></span>getProject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ProjectDataService::getProject </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>title</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method returns the project ID associated to a given title.</p>

</div>
</div>
<a id="a8568456df5ad9a547e3cf2baec7907b3" name="a8568456df5ad9a547e3cf2baec7907b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8568456df5ad9a547e3cf2baec7907b3">&#9670;&nbsp;</a></span>getProjectTitle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString ProjectDataService::getProjectTitle </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method returns the title of a given project ID, determined by the argument. The method will query the projects table for a project matching a given ID and then if a project is found the method will return that projects title as a QString.</p>

</div>
</div>
<a id="a3cbe17371fc9184605817371ff2804c4" name="a3cbe17371fc9184605817371ff2804c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cbe17371fc9184605817371ff2804c4">&#9670;&nbsp;</a></span>getProjectUsers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; QString &gt; ProjectDataService::getProjectUsers </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>projectId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method returns a QList of users emails determined by the ID of a project passed in as an argument.</p>

</div>
</div>
<a id="aa98c165d9b40e748359f4802d01ce927" name="aa98c165d9b40e748359f4802d01ce927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa98c165d9b40e748359f4802d01ce927">&#9670;&nbsp;</a></span>insertProjUsers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ProjectDataService::insertProjUsers </td>
          <td>(</td>
          <td class="paramtype">QVector&lt; QString &gt;&#160;</td>
          <td class="paramname"><em>users</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>project</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method inserts a list of users into the database that are assigned to a project. The arguments this method takes are a QVector of type QString which is thier email and then a project ID. <br  />
 The method will return true if all the users where inserted correctly to the database.</p>

</div>
</div>
<a id="ad0d4d2a46b07b206185a221393207f34" name="ad0d4d2a46b07b206185a221393207f34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0d4d2a46b07b206185a221393207f34">&#9670;&nbsp;</a></span>sendProjectMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ProjectDataService::sendProjectMessage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>projId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>messageTitle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>messageBody</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>uId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method is responsible for adding messages from the project timeline to the database. It takes in several arguments which are derived from the fields in the UI. <br  />
If the message is inserted to the database then this method will return true.</p>

</div>
</div>
<a id="a1a7317c7109ec0402a0723dc72824695" name="a1a7317c7109ec0402a0723dc72824695"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a7317c7109ec0402a0723dc72824695">&#9670;&nbsp;</a></span>updateProjectTitle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ProjectDataService::updateProjectTitle </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>projectId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>title</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method updates the project title stored in the database to the value passed to the second argument, the first argument is the project that is being updated. If the update was successful then the method would return true.</p>

</div>
</div>
<a id="a52b43d846e57aa15776b3fcb5fdb9357" name="a52b43d846e57aa15776b3fcb5fdb9357"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52b43d846e57aa15776b3fcb5fdb9357">&#9670;&nbsp;</a></span>updateProjectUsers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ProjectDataService::updateProjectUsers </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>projId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QVector&lt; QString &gt;&#160;</td>
          <td class="paramname"><em>currentUsers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This method updates the current users assigned to a project, it takes two arguments. A project ID and a QVector of users to assign.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>services/<a class="el" href="projectdataservice_8h_source.html">projectdataservice.h</a></li>
<li>services/projectdataservice.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_project_data_service.html">ProjectDataService</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
